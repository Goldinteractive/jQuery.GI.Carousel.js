/*! jQuery.GI.Carousel.js v0.3.3 || Goldinteractive <mail@goldinteractive.ch> (http://goldinteractive.ch) */
!function(a,b,c,d,e,f){"use strict";f.support.transition=function(){var b=function(){var b,c=a.createElement("GI"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(b in d)if(void 0!==c.style[b])return d[b]}();return b&&{end:b}}();var g=function(a){return a.originalEvent.targetTouches?a.originalEvent.targetTouches[0]:a},h=0,i=function(c,i){var j=this,k={onBeforeInit:null,onReady:null,onViewPortUpdate:null,onItemChange:null,onDestroy:null,responsive:!0,parallax:!0,parallaxFactor:.3,carousel:!1,arrows:!1,pagination:!1,controlsWrapper:null,closebutton:!1,keyboardNavigation:!1,stopScroll:!1,animationSpeed:300,fullscreen:!1,startId:0,resizeDebounce:300,slidesOffsetRight:0,autoSlideInterval:0,stopAutoSlideOnInteraction:!0,swipeSensibility:100,nextButtonClass:"",prevButtonClass:"",closeButtonClass:""},l={width:0,height:0},m="ontouchstart"in b||b.DocumentTouch&&a instanceof DocumentTouch,n={click:m?"touchstart":"click",mousedown:m?"touchstart":"mousedown",mouseup:m?"touchend":"mouseup",mousemove:m?"touchmove":"mousemove",mouseleave:m?"touchleave":"mouseleave"},o={isDown:!1,cachedX:0,cachedY:0,deltaX:0,deltaY:0},p=!1,q=[33,34,35,36,37,38,39,40,27],r=f.support.transition,s=null,t=".GICarousel"+h,u=0,v=f.extend(k,i);this.$el=c,this.$controlsWrapper=v.controlsWrapper||this.$el,this.$list=f("> ul",this.$el).eq(0),this.$items=f("> li",this.$list),this.currentIndex=v.startId,this.carouselIndex=v.startId,this.itemsLength=this.$items.length,this.currentX=0,this.totalWidth=0;var w=function(a,b){"function"==typeof a&&f.proxy(a,j,b)()},x=function(a,c,d){var e=d.type+d.handleObj.guid;this.GI_Timers=this.GI_Timers||{},this.GI_Timers[e]&&b.clearTimeout(this.GI_Timers[e]),this.GI_Timers[e]=setTimeout(f.proxy(function(){delete this.GI_Timers[e],a.call(this,d)},this),c||0)},y=function(){this.$controlsWrapper.append('<i class="GI_C_arrow GI_C_prev GI_Controls"><span class="'+v.prevButtonClass+'"></span></i><i class="GI_C_arrow GI_C_next GI_Controls"><span class="'+v.nextButtonClass+'"></span></i>'),this.$next=f(".GI_C_next",this.$controlsWrapper),this.$prev=f(".GI_C_prev",this.$controlsWrapper)},z=function(){for(var a=0,b="<ul class='GI_C_paginator GI_Controls'>";a<this.itemsLength;a++){var c=a===this.currentIndex?"active":"";b+="<li class='"+c+"'></li>"}b+="</ul>",this.$controlsWrapper.append(b),this.$paginator=f(".GI_C_paginator",this.$controlsWrapper)},A=function(){v.carousel||(j.currentIndex<=0?j.$prev.addClass("GI_C_disabled"):j.$prev.hasClass("GI_C_disabled")&&j.$prev.removeClass("GI_C_disabled"),j.currentIndex>=j.itemsLength-1?j.$next.addClass("GI_C_disabled"):j.$next.hasClass("GI_C_disabled")&&j.$next.removeClass("GI_C_disabled"))},B=function(){v.carousel?this.$list.find("li").removeClass("current").eq(this.carouselIndex).addClass("current"):this.$items.removeClass("current").eq(this.currentIndex).addClass("current")},C=function(){if(v.carousel){var a=null;this.currentIndex>=u+1?(this.$itemsClone.data("position","after"),this.$list.append(this.$itemsClone)):this.currentIndex<=u-1&&(this.$itemsClone.data("position","before"),this.$list.prepend(this.$itemsClone)),this.currentIndex<=0&&(a=this.itemsLength),this.currentIndex>=this.itemsLength-1&&(a=this.itemsLength-1),a&&(this.carouselIndex=a,this.currentX=-(l.width*this.carouselIndex),this.$list.removeClass("animated").css({left:this.currentX}))}},D=function(){this.$itemsClone=this.$items.clone(),this.currentIndex>u?(this.$itemsClone.data("position","after"),this.$list.append(this.$itemsClone)):this.currentIndex<u&&(this.$itemsClone.data("position","before"),this.$list.prepend(this.$itemsClone),this.carouselIndex=this.currentIndex+this.itemsLength)},E=function(a){f(a.target)[0]!==this.$list[0]&&r||(C.call(this),v.pagination&&this.$paginator.find("li").removeClass("active").eq(this.currentIndex).addClass("active"),v.arrows&&A(),v.parallax&&K.call(this),p=!1,B.call(this),w(v.onItemChange,this.currentIndex))},F=function(a){return o.isDown?(o.deltaX=~~(g(a).pageX-o.cachedX),o.deltaY=~~(g(a).pageY-o.cachedY),v.stopScroll&&a.preventDefault(),this.$list.css({left:this.$list.data("old-x-position")+o.deltaX}),void(v.parallax&&K.call(this))):!1},G=function(a){this.stopAutoslide(),p||("mousedown"===a.type&&a.preventDefault(),this.$list.removeClass("animated").data("old-x-position",b.parseInt(this.$list.css("left"))),o.cachedX=g(a).pageX,o.cachedY=g(a).pageY,o.isDown=!0)},H=function(){o.isDown&&(this.$list.addClass("animated"),Math.abs(o.deltaX)>v.swipeSensibility?o.deltaX>0?this.prev():this.next():this.moveToSlide(),o.cachedX=0,o.deltaX=0,o.cachedY=0,o.deltaY=0,o.isDown=!1)},I=function(a){f.inArray(a.keyCode,q)>-1&&a.preventDefault(),39===a.keyCode?this.next():37===a.keyCode?this.prev():27===a.keyCode&&v.closebutton&&this.destroy()},J=function(a){a.preventDefault(),this.stopAutoslide();var b=f(a.currentTarget);b.hasClass("GI_C_next")?this.next():this.prev()},K=function(){r&&this.$items.each(function(a){var b=f(".parallax",this);b.css({marginLeft:j.$items.eq(a).offset().left*v.parallaxFactor})})},L=function(){return this.$items.length<=1?(this.setViewport(),this):(this.currentIndex=v.startId<0?0:v.startId,p=!1,w(v.onBeforeInit),this.$el.addClass("GI_C_wrapper"),this.$list.addClass("GI_C_items"),v.carousel&&(u=~~(this.itemsLength/2),D.call(this),C.call(this)),v.pagination&&z.call(this),v.arrows&&(y.call(this),A()),v.closebutton&&(this.$controlsWrapper.append('<div class="GI_C_close GI_Controls"><span class="'+v.closeButtonClass+'"></span></div>'),this.$closebutton=f(".GI_C_items",this.$controlsWrapper)),v.parallax&&K.call(this),this.setViewport(),this.bindAll(),v.autoSlideInterval&&this.startAutoslide(),B.call(this),w(v.onCarouselReady),w(v.onReady),void h++)};return this.setViewport=function(){this.$el.css({display:"block",visibility:"hidden"}),l={width:(v.fullscreen?e.width():this.$el.width())-v.slidesOffsetRight,height:v.fullscreen?e.height():this.$el.height()},this.$el.css({display:"inherit",visibility:"inherit"}),this.totalWidth=l.width*((v.carousel?2*this.$items.length:this.$items.length)+1),this.currentX=(this.$itemsClone&&"before"===this.$itemsClone.data("position")&&this.currentIndex+1!==this.itemsLength?-(this.currentIndex+this.itemsLength):-this.currentIndex)*l.width,this.$list.removeClass("animated").css({width:this.totalWidth,height:l.height,left:this.currentX}),this.$items.css({width:l.width,height:l.height}),this.$itemsClone&&this.$itemsClone.css({width:l.width,height:l.height}),p=!1,w(v.onViewPortUpdate)},this.startAutoslide=function(a){this.stopAutoslide(),this.autoslideTimer=b.setInterval(function(){j.next()},v.autoSlideInterval||a)},this.stopAutoslide=function(){this.autoslideTimer&&v.stopAutoSlideOnInteraction&&b.clearInterval(this.autoslideTimer)},this.moveToSlide=function(a){if(!p){var c=this.currentX;this.currentIndex="number"==typeof a?a:this.currentIndex;var d=0;if(this.currentIndex<0&&(this.currentIndex=0),this.currentIndex>=this.itemsLength&&(this.currentIndex=this.itemsLength-1),v.carousel){var e=Math.floor(this.carouselIndex/this.itemsLength);"number"==typeof a&&(this.carouselIndex=0!==e?e>0?this.currentIndex+(e+this.itemsLength)-1:this.currentIndex-(e+this.itemsLength):this.currentIndex),this.currentIndex=Math.ceil(this.carouselIndex-e*this.itemsLength),d=this.carouselIndex}else d=this.currentIndex;this.currentX=-d*l.width,p=this.currentX!==c,B.call(this),s&&b.clearTimeout(s),s=b.setTimeout(f.proxy(function(){this.$list.stop(!0,!1).addClass("animated")[r?"css":"animate"]({left:this.currentX},v.animationSpeed,f.proxy(E,this,this.currentIndex))},this),33)}},this.next=function(){p||(this.currentIndex++,this.carouselIndex++,this.moveToSlide())},this.prev=function(){p||(this.currentIndex--,this.carouselIndex--,this.moveToSlide())},this.bindAll=function(){r&&this.$el.on(r.end+t,this.$list,f.proxy(E,this)),v.pagination&&this.$controlsWrapper.on(n.click+t,".GI_C_paginator li",f.proxy(x,this,function(a){this.stopAutoslide(),this.moveToSlide(f(a.currentTarget).index())},100)),v.arrows&&this.$controlsWrapper.on(n.click+t,".GI_C_arrow",f.proxy(J,this)),v.closebutton&&this.$controlsWrapper.on(n.click+t,".GI_C_close",f.proxy(this.destroy,this)),this.$el.on(n.mousedown+t,".GI_C_items",f.proxy(G,this)),this.$el.on(n.mousemove+t,".GI_C_items",f.proxy(F,this)),this.$el.on(n.mouseup+t,".GI_C_items",f.proxy(H,this)),this.$el.on(n.mouseleave+t,".GI_C_items",f.proxy(H,this)),v.responsive&&d.on("resize"+t+" orientationchange"+t,f.proxy(x,this,this.setViewport,v.resizeDebounce)),v.keyboardNavigation&&d.on("keydown"+t,f.proxy(I,this))},this.unbindAll=function(){this.$el.off(t),this.$controlsWrapper.off(t),d.off(t)},this.destroy=function(a){a&&(a.preventDefault(),a.stopImmediatePropagation()),this.currentIndex=null,this.currentX=null,this.carouselIndex=null,this.unbindAll(),this.$list.removeClass("animated"),this.$itemsClone&&this.$itemsClone.remove(),this.stopAutoslide(),w(v.onDestroy)},L.call(this),this};f.fn.GICarousel=function(a){return this.length?new i(this,a):void 0}}(document,window,$(document),$(window),$("body"),jQuery);